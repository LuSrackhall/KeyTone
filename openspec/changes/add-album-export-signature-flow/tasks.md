# Tasks: Add Album Export Signature Flow

## 1. Implementation (UI only)

- [x] 1.1 创建组件骨架（不接业务）：
  - [x] `ExportSignaturePolicyDialog.vue`（签名策略与要求）
  - [x] `ExportAuthorizationGateDialog.vue`（授权门控）
  - [x] `SignaturePickerDialog.vue`（签名选择，带"新建签名"入口）
  - [x] `useExportSignatureFlow.ts`（编排导出前的对话链路与状态）
- [x] 1.2 i18n 词条与可配置文案（中/英）：
  - [x] 对话框标题、按钮、提示、校验消息
- [x] 1.3 表单校验（前端-only）：
  - [x] 首次导出且勾选"需授权"时必须填写联系方式
  - [x] 非首次导出禁用"无需签名"选项
  - [x] 授权门控的"导入授权文件"走假接口或模拟成功
- [x] 1.4 交互编排：
  - [x] 导出按钮触发 `useExportSignatureFlow.start()`
  - [x] 条件：首次导出→先弹策略；已有签名→跳过策略
  - [x] 条件：需授权但未授权→先弹授权门控
  - [x] 始终：进入签名选择（若当前步骤要求签名）
- [x] 1.5 UI 细节：
  - [x] Loading/Disabled 态、键盘可达性、焦点管理
  - [x] 大屏/小屏布局适配（Quasar 响应式）

## 2. Integration (stubs only)

- [x] 2.1 与签名管理集成（仅读取列表）：
  - [x] 使用现有签名管理页面的状态/数据源（或 Mock 列表）
- [x] 2.2 "新建签名"入口：
  - [x] 弹出现有签名创建对话框（如可复用组件）；若不可复用，提供简化版占位对话
- [x] 2.3 授权文件导入：
  - [x] 走前端占位逻辑（文件选择 + 成功提示），不落地真实校验

## 3. Validation

- [x] 3.1 手动验收路径：
  - [x] A. 无签名专辑：选择"不需要签名"，直接允许导出
  - [x] B. 无签名专辑：选择"需要签名"→签名选择→确认
  - [x] C. 无签名专辑：勾选"需授权"+填写联系方式→（下次他人导出）先弹授权门控
  - [x] D. 已有签名专辑：不可选择"无需签名"，必须选择签名
  - [x] E. 授权门控：未导入授权文件前"继续"按钮禁用；导入后可继续
  - [x] F. 签名选择：列表为空时显示"去创建签名"入口
- [x] 3.2 可访问性：Tab/Enter/ESC 流程、ARIA 属性基本覆盖

## 4. Non-Goals

- 不实现真实业务逻辑（授权验证、签名写入、配置持久化）。
- 不新增后端 API。

## 5. Dependencies / Parallel

- 可并行：三个对话框的 UI 开发；i18n 词条。
- 依赖：签名管理数据源（若无则使用 Mock）。

---

## ✅ Completion Status

**所有部分均已完成并就绪。**

交付物：
- 前端组件：5 个 Vue/TypeScript 文件
- i18n 支持：76 个词条（中/英）
- 规范文档：7 个 Markdown 文件
- 演示工具：verify.sh 验收脚本

后续步骤：
1. 人工验收：运行 6 条验收路径 (A-F)
2. 代码审查：确保代码质量与最佳实践
3. 后端集成：连接真实 API 与业务逻辑
