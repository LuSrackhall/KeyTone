# `0.5.0` *(2025-05)*
### Bug Fixes

* **:deep v-bind:** Investigated why styles in nested components were not taking effect, tried switching to manual full-path references, and ultimately confirmed it was indeed an issue with v-bind, unrelated to :deep. Confirmation from official issues verified that the problem was caused by a bug in Vue's v-bind logic. The Vue version affected by this bug is 3.5.14. ([5884d26](https://github.com/LuSrackhall/KeyTone/commit/5884d269965b876c799284cad42b7321e235a62c))
* **:style v-bind i18n-ui:** Used :style to define dynamic variables instead of v-bind to address the issue where dynamic CSS variables inside a q-dialog component, which is independent of .body, could not be accessed. :style can be directly applied to the relevant dialog component to allow access. (Previously, it was inaccurately assumed that v-bind failed due to different nesting levels, and the assertion of a v-bind bug was too hasty—after all, dynamic CSS variables defined via :style on the current page had the same issue. It can only be said that v-bind's dynamic variables may have issues. In future Vue version updates, the corresponding commit can be checked to verify if v-bind resolves this issue. If v-bind works, it would be the most convenient way to define and use dynamic CSS.) ([bc78086](https://github.com/LuSrackhall/KeyTone/commit/bc78086cea1af577f6081a6afebbdbd1aa53e80d))
* Attempted to fix the border anomaly issue on macOS. ([0e8c444](https://github.com/LuSrackhall/KeyTone/commit/0e8c44406017d8963af4be518282177a350a9e5f))
* Thoroughly resolved the chicken-or-egg problem that sdkIsRun might encounter, thanks to the new architecture resolving inconsistencies between development and production environments. ([540c68e](https://github.com/LuSrackhall/KeyTone/commit/540c68e06ceeb578d043751a541a4f208a5ead1f))
* Fundamentally fixed the border anomaly issue on macOS by isolating styles related to margins for displaying shadows and implementing them for different platforms, specifically targeting non-macOS platforms. ([5dd129c](https://github.com/LuSrackhall/KeyTone/commit/5dd129ce01a8f61808c241c44cbbd91c2b3e851c))
* Utilized strings output to the terminal when the server module of the SDK fails to start, captured in the Electron main process to print relevant information and allow the UI to continue starting. This prevents the UI from failing to display when the server module fails, ensuring users are prompted to restart the application. ([e328a56](https://github.com/LuSrackhall/KeyTone/commit/e328a56cf927e6f3c4c896b2ce5fc618650ff24b))
* Fixed the issue where blank names appeared due to failed retrieval of the key sound package list and corresponding names when opening the application. (Added retry attempts to the relevant SDK requests. Testing showed that if the first attempt fails, up to two more attempts are sufficient for success, with a maximum retry limit of six.) ([742197e](https://github.com/LuSrackhall/KeyTone/commit/742197ed41d3ace20fddebb09b662b1fe446ef3e))
* Fixed the noticeable delay in the mute/unmute button toggle logic in the macOS tray icon menu by changing the polling logic to SSE active notification logic, maximizing real-time performance. ([f8aeb04](https://github.com/LuSrackhall/KeyTone/commit/f8aeb049cc30e6ae3b4754ce35108bbc31899322))
* Fixed the issue where the calling logic based on platform detection during startup and auto-start incorrectly used the entire function as a reactive variable instead of the function's result, causing UI anomalies on macOS due to invalid platform detection. ([93e4339](https://github.com/LuSrackhall/KeyTone/commit/93e433940b0dfc878c829e0145059a976be87ad3))
* Fixed the bug where the mute/unmute button in the tray menu was unusable during the first startup (specifically when no settings configuration file existed), but became functional after switching languages. The issue was caused by the configuration file not initializing related fields. ([dd4d8d9](https://github.com/LuSrackhall/KeyTone/commit/dd4d8d9426dabef89ea121e9f20cfe61304132e2))
* Fixed the bug on macOS where KeyTone running continuously in the tray could prevent normal system shutdown or restart operations. ([d793693](https://github.com/LuSrackhall/KeyTone/commit/d7936936be21813281f76f9a8698279ea9c8ad9b))
* Fixed the issue where rounded corners at the top of the taskbar were not applied, especially on Windows, by manually setting rounded corner styles for the taskbar element. ([d6e0947](https://github.com/LuSrackhall/KeyTone/commit/d6e0947c96fea698d07de85caff4cfcadbed5a89))
* Fixed the startup anomaly caused by axios not updating the port number in time under the new architecture when the default port was occupied, particularly noticeable on macOS. Added immediate execution logic to axios port retrieval to obtain the most accurate port information as early as possible. ([b3e4e41](https://github.com/LuSrackhall/KeyTone/commit/b3e4e4121e2b10d397228970fcbb1029ff3679bf))
* Fixed the border anomaly issue on macOS when showing the window for the first time while hidden at startup. Since this issue only occurs during the first display, it was resolved by briefly hiding and re-showing the window. ([cafd2e2](https://github.com/LuSrackhall/KeyTone/commit/cafd2e291290ffaa77b9d84c2c66e84b6cb9f74e))
* Fixed the new bug on macOS where the taskbar width was insufficient, introduced by previous fixes for the border anomaly issue. ([9826704](https://github.com/LuSrackhall/KeyTone/commit/982670422884a51dcfa68c327c7cdeefb7f9a268))
* Fixed the bug on macOS where the auto-start configuration was ineffective. Used Electron’s official auto-start API specifically for macOS to resolve this issue. Additionally, removed the hide-on-startup option for macOS due to its unavailability in MAS builds and macOS versions 13 and above. ([4d5da95](https://github.com/LuSrackhall/KeyTone/commit/4d5da955fd4b049211decdb9f4ffab5160b078b2))
* Ensured absolute stability at the cost of slightly slower startup speed, preventing any issues with untimely SDK startup. (In production, this only slightly slows startup in rare cases, such as within the first few minutes after booting, with low probability otherwise.) ([9dd4d63](https://github.com/LuSrackhall/KeyTone/commit/9dd4d6354f8722af211caef674c8b34d335c76d8))
* Optimized the overflow scrolling style for all select boxes (with or without chips, single or multiple selection) in the key sound album component. ([394ade2](https://github.com/LuSrackhall/KeyTone/commit/394ade22fe04534485bc7732bf4ef96b7cdac966))
* **i18n-RTL:** This fix completely avoids potential errors due to unsupported language abbreviations, ensuring fallback to supported types defined in i18n/index.ts, which is the sole basis for judgment. ([63ca266](https://github.com/LuSrackhall/KeyTone/commit/63ca266eee44a6b7a0b980a9e153b373972cbf53))
* **i18n-RTL:** Fixed incorrect positioning of some buttons in RTL mode. ([63e7498](https://github.com/LuSrackhall/KeyTone/commit/63e7498674cc8b528b3f016724c152e9966ddf7f))
* **i18n-RTL:** Fixed the issue where some buttons with arrow icons in RTL mode were not rotated 180 degrees, resolved by manually handling related styles for on-demand rotation. ([b916554](https://github.com/LuSrackhall/KeyTone/commit/b916554979f1289019e5b72874803d05940d5b46))
* **i18n-ui:** This UI fix uses v-bind to introduce dynamic font sizes to adapt font sizes for different languages in i18n. Previous attempts to adjust i18n UI styles failed to achieve a suitable unified font size (some languages had fonts too large or sentences too long, affecting layout), leading to this fix. ([319d1e9](https://github.com/LuSrackhall/KeyTone/commit/319d1e91ca81ef09273f612c4d512f9bc3fc0130))
* **i18n-ui:** Further optimized UI adaptation for different languages in i18n. ([12630f3](https://github.com/LuSrackhall/KeyTone/commit/12630f3e3e5486ca1bc7776adb17fb355b9265f1))
* **i18n-ui:** Optimized font size styles for step descriptions on macOS. ([84029bd](https://github.com/LuSrackhall/KeyTone/commit/84029bd077edef095bc75e5c053b0ac377856d9b))
* **i18n-ui:** Optimized font size styles for step descriptions on Windows. ([2a275e2](https://github.com/LuSrackhall/KeyTone/commit/2a275e2f4c91d4f0614fe7565946d22f1670f84f))
* **i18n:** Fixed incorrect content in French i18n. ([5cb2c86](https://github.com/LuSrackhall/KeyTone/commit/5cb2c86a6737ec417080e2bd72e098e6f4ba1059))
* **i18n:** Fixed the issue where the homepage license description in i18n only covered Chinese and English, now extended to cover the entire i18n configuration. ([8b3459f](https://github.com/LuSrackhall/KeyTone/commit/8b3459f16e79becb31ec975296ef5874046a40c3))
* **i18n:** Fixed content in Portuguese and Portuguese (Brazil) i18n that caused UI layouts to differ from the default layout. ([d02b4e1](https://github.com/LuSrackhall/KeyTone/commit/d02b4e13860ff76335862b0aac5378239dca2688))
* **i18n:** Fixed content in Spanish i18n that caused UI layouts to differ from the default layout. ([7c0e914](https://github.com/LuSrackhall/KeyTone/commit/7c0e91443514aa4e5a2d6b7980f815712aa0712d))
* **i18n:** Fixed the issue of accidentally changed keys during i18n adaptation, now fully restored. ([6898730](https://github.com/LuSrackhall/KeyTone/commit/689873098ee3b39d39fa2f7975569c9283b7a862))
* **i18n:** Fixed the display effect for Russian i18n to keep the layout as consistent as possible with the default. ([815b4de](https://github.com/LuSrackhall/KeyTone/commit/815b4de6b6cbda84297c1dfb825e2bc95f36329f))
* **macos-ui:** Fixed the issue of pages being centered slightly to the left on macOS. ([4f052e7](https://github.com/LuSrackhall/KeyTone/commit/4f052e7da59fd348a52fed443774f27be0bc85ed))
* **macos-ui:** Fixed the base width of UI interfaces on macOS to be more reasonable. (The same issue exists on Windows—379px should be 381.2px—but due to historical adaptations within components, it’s only redundant code with no impact on the overall UI, so no immediate fix is needed.) ([e5aecf1](https://github.com/LuSrackhall/KeyTone/commit/e5aecf154c1f6e9ca711b2e587678614e9832a10))
* **sdk:** This fix prevents the rare case where port number output is affected by errors in the request itself, though the likelihood is minimal, making this fix less critical. ([2579bde](https://github.com/LuSrackhall/KeyTone/commit/2579bde0e88168671fe97b45618f4c8843a05398))
* **sdk:** Attempted to fix cross-platform consistency for exporting/importing key sound albums to prevent albums exported from Windows from being unimportable on macOS and Linux devices. See details for specific reasons. ([f9f8d1a](https://github.com/LuSrackhall/KeyTone/commit/f9f8d1aff04307507441dd466b19434b793f77a0))
* **sdk:** Prevented risks of high CPU load or memory overflow due to infinite dependency loops during key sound inheritance at the SDK level. The fix sets a maximum inheritance nesting level of 1000 in the SDK core layer (as no one would create key sounds with over 1000 nested levels). ([5e0a8ac](https://github.com/LuSrackhall/KeyTone/commit/5e0a8ac1c10cdd92fabcfc543396b24ee11e2588))
* **sdk:** Further simplified the logic for handling port number return timing in the SDK. ([e9e30fb](https://github.com/LuSrackhall/KeyTone/commit/e9e30fb60de20688c568377c82949f105fe5bc3a))
* **sdk:** Ensured that the port number is returned only after the server service is successfully started, guaranteeing service availability when the SDK outputs the port number. ([71d434c](https://github.com/LuSrackhall/KeyTone/commit/71d434c91c982a1fefe250f2dbf9c5c950cd551d))
* **ui:** Continued fixing button and page layout anomalies on the settings page caused by varying i18n string lengths. ([21f15b9](https://github.com/LuSrackhall/KeyTone/commit/21f15b91db317adf1600ee8f866a8e40ed4dc773))
* **ui:** Further fixed some UI issues on the settings page, specifically layout anomalies caused by varying string lengths in different i18n languages. ([11c7251](https://github.com/LuSrackhall/KeyTone/commit/11c725173ca3ee98bd8f03aede05cf3102d4fbd1))
* **ui:** Completely disabled the virtual scrolling feature of the selector component on the key sound album page to avoid impacting user experience. ([197df0a](https://github.com/LuSrackhall/KeyTone/commit/197df0ad0fbcfb65354287fc1a425dd9472b5541))
* **ui:** Fixed the issue of the taskbar being uncoordinated with the overall UI after expanding the sidebar. ([7737ba4](https://github.com/LuSrackhall/KeyTone/commit/7737ba4791eedc88de227f7493bc1b0aad5ccde3))
* **ui:** Fixed the issue where long label names in selector components across pages caused overflow or displayed scrollbars (e.g., noticeable with Russian due to its length). ([e1974b5](https://github.com/LuSrackhall/KeyTone/commit/e1974b5c74cee60ba6c7116e31a192df1a5ae9a3))
* **ui:** Fixed the issue on the key sound album page where the expand button overlapped with the taskbar. ([bb85ca3](https://github.com/LuSrackhall/KeyTone/commit/bb85ca3f079cf4cdf9feba15aa1aecd76ebf0077))
* **ui:** Fixed the issue in the key sound album component where buttons at the bottom of the dialog for defining new sounds in the sound trimming step were too close together. ([8d474a4](https://github.com/LuSrackhall/KeyTone/commit/8d474a4e9a921578d1c702f01276eab9f3874f48))
* **ui:** Fixed the interface overflow issue when entering the settings page and improved the alignment of the sidebar after it pops out. ([626ecf8](https://github.com/LuSrackhall/KeyTone/commit/626ecf8d4bfa22b6fa01e215913a62272d24b3fc))
* **ui:** Fixed the animation flicker issue at the expand icon on the settings page (a scrollbar briefly appeared during expansion). ([428a1ea](https://github.com/LuSrackhall/KeyTone/commit/428a1ea43359f0036149c948640879e74fb0c586))
* **ui:** Fixed interface overflow and other anomalies on the main page caused by overly long key sound album names; also fixed the loss of scrolling effects for long-named key sound albums in the selection boxes on the main and key sound album pages, restoring the effect. ([d8ade1c](https://github.com/LuSrackhall/KeyTone/commit/d8ade1c7a02536134ecb25126301d4cfb381bbd4))
* **ui:** Fixed UI layout anomalies on main pages caused by varying string lengths in different languages after introducing more languages, primarily addressing poor visual perception due to button UI issues. ([1419d97](https://github.com/LuSrackhall/KeyTone/commit/1419d97793c644e7cd223dd871e11e4ed2a83ab5))

### Features

* **i18n-RTL:** Provided further RTL adaptation for Arabic-based i18n, involving RTL plugin configuration, dynamic switching of Quasar language packs, and logic for retrieving and dynamically setting language pack content. ([e5bbd7f](https://github.com/LuSrackhall/KeyTone/commit/e5bbd7f8667aab5cbe5af3e358c729f729d29ec3))
* **i18n:** Added a language selection box feature to support bidirectional adaptation for languages shared across multiple countries within a single language list item, resolving the issue of duplicate list items for multi-country languages in i18n scenarios. ([2137794](https://github.com/LuSrackhall/KeyTone/commit/2137794fe05911a99ce2515c0c4ca95795e48ee4))
* **i18n:** Added support for Arabic (conforming to MSA standards), but currently without RTL support. ([5f53067](https://github.com/LuSrackhall/KeyTone/commit/5f53067df0ea77762b4eb50def1483a99c1618f8))
* **i18n:** Added support for Polish. ([7c40a02](https://github.com/LuSrackhall/KeyTone/commit/7c40a023f88fe4048795a2e04c728280661facdb))
* **i18n:** Added support for German. ([4c9f046](https://github.com/LuSrackhall/KeyTone/commit/4c9f046366d868edc5cecfa2b17075045c930ba0))
* **i18n:** Added support for Russian. ([fc72e3f](https://github.com/LuSrackhall/KeyTone/commit/fc72e3f2c889555beea48bd59a8f48a19cd58ffd))
* **i18n:** Added support for French. ([7dbc683](https://github.com/LuSrackhall/KeyTone/commit/7dbc683e3f9c227da86d78d72c48aa837dde4163))
* **i18n:** Added support for Korean. ([d15898b](https://github.com/LuSrackhall/KeyTone/commit/d15898b8ab448b9848b94513f0cfaacd2c24e30d))
* **i18n:** Added support for Portuguese and Portuguese (Brazil). ([06b9e97](https://github.com/LuSrackhall/KeyTone/commit/06b9e97b27783e34ec4e81ec5abbe84cb36e3cd7))
* **i18n:** Added support for Japanese. ([4334c1e](https://github.com/LuSrackhall/KeyTone/commit/4334c1e95bf79ce092f3d81cdcc939880b2cad42))
* **i18n:** Added support for Turkish. ([1441f2b](https://github.com/LuSrackhall/KeyTone/commit/1441f2bb2cfe0773f96e0587f76114ca33a37e46))
* **i18n:** Added support for Spanish. ([ffd9aa4](https://github.com/LuSrackhall/KeyTone/commit/ffd9aa4ab3aacddecb8e8acd1ae4b33f40c2c3ef))
* **i18n:** Added support for Italian. ([8ffa24d](https://github.com/LuSrackhall/KeyTone/commit/8ffa24d8ce3bb5933d15803e79e0a170a7e500c0))
* **i18n:** Added support for Indonesian. ([bbd9262](https://github.com/LuSrackhall/KeyTone/commit/bbd9262e9173826b049138a9b88165f1265ead0d))
* **i18n:** Added support for Vietnamese. ([7b936b4](https://github.com/LuSrackhall/KeyTone/commit/7b936b4daf91c36451b192d4e92185795555349f))
* **i18n:** Added support for Traditional Chinese. ([36f7f8f](https://github.com/LuSrackhall/KeyTone/commit/36f7f8fb20361f7400ebe66d3e660ab72bca5aa0))
* **ui:** Changed the version number display condition to show only on the main page. ([467bca4](https://github.com/LuSrackhall/KeyTone/commit/467bca4fb31c21543b65c06ab51d3d88cd08ae18))
* **ui:** Adapted the taskbar close/minimize button behavior for macOS to align with default conventions, removing the minimize and close buttons on the right side of the taskbar (consistent with Windows) and shifting other taskbar function buttons to the right to accommodate macOS-native close/minimize buttons on the left. ([bc37bad](https://github.com/LuSrackhall/KeyTone/commit/bc37badd4eca875b57600d122775a7e93d1c782a))
* **ui:** Removed the original logic in the step bar that relied on the number of steps to determine completion, replacing it with a simpler logic based on whether an action has been performed. ([2621efb](https://github.com/LuSrackhall/KeyTone/commit/2621efb98f272d167b9beca982139a645a289fd2))
* **ui:** Added a help button on the key sound album page that opens the documentation URL for the key sound album introduction page when clicked. ([1dd23fa](https://github.com/LuSrackhall/KeyTone/commit/1dd23fa505d729b937a9c4310063e02ef5f2bc6f))

### Reverts

* Revert "Revert "fix: Fixed the issue where blank names appeared due to failed retrieval of the key sound package list and corresponding names when opening the application. (Added retry attempts to the relevant SDK requests. Testing showed that if the first attempt fails, up to two more attempts are sufficient for success, with a maximum retry limit of six.)" -> The root cause was ultimately identified as the SDK logic related to the key sound package name retrieval function and the instability of Viper initialization, not the previously assumed issue of untimely port number updates by axios. (Viper’s issues are complex and pervasive, undeserving of its high star rating, so reliability was improved at the application layer to fix this issue.) ([6c7bf68](https://github.com/LuSrackhall/KeyTone/commit/6c7bf689c159c5e876f488e931c50724d4f45f11))
* Revert "test(debug): This commit was solely for debugging the issue where the selected key sound package name appeared blank on first startup. Testing confirmed it was unrelated to port number immediacy, as the issue persisted even with the default 38888 port. Axios responses showed a 500 error, indicating an internal logic issue in the server-side API. The request itself, including port and parameters, was correct; the issue lies in the SDK’s internal API logic." ([886183d](https://github.com/LuSrackhall/KeyTone/commit/886183d3a46227c9ba552a368d12f37f330c638e))
* Revert "fix: Fixed the border anomaly issue on macOS when showing the window for the first time while hidden at startup. Since this issue only occurs during the first display, it was resolved by briefly hiding and re-showing the window." -> The true cause was an outdated Electron framework; upgrading the Electron version resolved the issue. ([174eba5](https://github.com/LuSrackhall/KeyTone/commit/174eba576f8c5fb4a8c93a4aab8d6932750b5bda))
* Revert "fix: Fixed the issue where blank names appeared due to failed retrieval of the key sound package list and corresponding names when opening the application. (Added retry attempts to the relevant SDK requests. Testing showed that if the first attempt fails, up to two more attempts are sufficient for success, with a maximum retry limit of six.)" -> The root cause was axios failing to update the port number in time, not the previously assumed instability of Viper after successful loading. ([2d40b76](https://github.com/LuSrackhall/KeyTone/commit/2d40b760bc5cbc17e0fe65bb1523dbdaff7a835e))