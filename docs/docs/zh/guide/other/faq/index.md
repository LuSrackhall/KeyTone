# 常见问题

::: info
对于开源的项目来说, 在[GitHub Issues](https://github.com/LuSrackhall/KeyTone/issues) 中寻找解决方案或提交新的问题是很好的习惯。
:::

通过托盘退出并重新打开应用可以解决99.99%的不常见bug。

**对于非Bug的常见问题, 会在下方列出:**

::: tip
点击问题, 可查看解决方案。
:::

> ::: details Windows中, 明明打开了"自动启动"却没有作用。(Microsoft Store版不存在此现象)
> > **可能是Windows系统设置中, 对于自启动应用的管理设置导致的。目前的详细解决方案如下:**
> > * 打开系统'设置'>'应用'>'启动'页面。(注意, 是打开操作系统的'设置'。)
> > * 查看当前应用是否被允许自启动。
> > * 如果禁止, 请将其设置为允许。
> >
> > 如果此解决方案对您无效, 可尝试在 [GitHub Issues](https://github.com/LuSrackhall/KeyTone/issues) 中提交问题。
> :::
> ::: details MacOS中, 每次打开软件, 都会出现"辅助功能访问"的请求弹窗, 且软件功能无法正常使用。
>
> > **这可能是苹果系统的更新所致, 具体原因尚未查明。目前的详细解决方案如下:**
> >
> > 请尝试为 `/Applications/KeyTone.app/Contents/MacOS/KeyTone` 设置"辅助功能权限"(注意不是`/Applications/KeyTone.app`)。
> >
> > 具体步骤如下:
> > * 通过托盘图标退出`KeyTone.app`
> > * 打开“系统设置”并进入“辅助功能”设置界面：
> >   * 点击屏幕左上角的 Apple 菜单（），选择“系统设置”（或“系统偏好设置”，视 macOS 版本而定）。
> >   * 在“系统设置”中，找到并点击“隐私与安全性” > “辅助功能”, 不要关闭这个窗口, 稍后需要拖动图标到此窗口内的权限设置框中。
> > * 在访达中使用快捷键打开指定路径：
> >   * 打开“访达”（Finder）。
> >   * 按下快捷键 `Command + Shift + G`，这将直接打开“前往文件夹”窗口。
> >   * 在弹出的输入框中，复制并粘贴以下路径：`/Applications/KeyTone.app/Contents/MacOS/KeyTone`，然后按“前往”或回车键。
> > * 将 KeyTone 可执行文件拖动到“辅助功能”设置窗口：
> >   * 在访达中，找到路径下的 `KeyTone` 文件（这是一个可执行文件，通常显示为一个终端图标）。
> >   * 将该 `KeyTone` 文件拖动到“系统设置”中“辅助功能”窗口的应用程序列表中。
> >   * 如果系统提示需要输入管理员密码，输入密码以确认。
> > * 确保权限已启用：
> >   * 在“辅助功能”列表中，找到 `KeyTone`(注意是刚刚手动添加的哪个, 而不是`KeyTone.app`)，确保旁边的复选框已勾选。
> >   * 如果未勾选，手动勾选以启用权限。
> > * 重新打开`KeyTone.app`
> >
> > 如果此解决方案对您无效, 可尝试在 [GitHub Issues](https://github.com/LuSrackhall/KeyTone/issues) 中提交问题。
> :::
> ::: details MacOS中无法正常打开,提示内容为: `“KeyTone.app”已损坏，无法打开。 你应该将它移到废纸篓。`。
> > #### 情况说明
> > 感谢您使用 KeyTone.app！您可能遇到了 macOS 提示`“KeyTone.app”已损坏，无法打开。 你应该将它移到废纸篓。`的错误。以下是导致此问题的原因及背景说明：
> > 
> > 1. **未完成苹果开发者签名**：
> >    - KeyTone.app 的开发团队当前未持有有效的苹果开发者帐号，因此无法对应用执行苹果的公证（Notarization）及代码签名（Code Signing）操作。
> >    - macOS 的 Gatekeeper 安全机制默认会阻止未签名或未公证的应用运行，以确保用户安全。这导致了上述错误提示。
> > 
> > 2. **macOS 安全机制**：
> >    - 从 macOS 10.15（Catalina）及更高版本开始，苹果要求所有从互联网下载的应用必须经过公证，否则会被系统标记为“损坏”或“不受信任”。
> > 
> > 3. **影响**：
> >    - 您可能无法直接双击打开 KeyTone.app。
> >    - 该问题不表示应用本身存在问题，而是 macOS 的安全策略限制了未签名应用的运行。
> > 
> > #### 解决方案
> > 为了解决此问题并正常运行 KeyTone.app，您可以按照以下步骤手动移除应用的隔离属性并允许其运行。
> > 
> > ##### 使用 `xattr` 命令移除隔离属性（推荐）
> > 1. **打开终端**：
> >    - 按 `Command + 空格`打开聚焦搜索。
> >    - 输入 `Terminal` 并打开终端应用。
> > 
> > 2. **执行命令**：
> >    - 输入以下命令并按回车：
> >      ```
> >      xattr -cr /Applications/KeyTone.app
> >      ```
> >    - 说明：
> >      - `xattr -cr` 会移除 KeyTone.app 的扩展属性（包括隔离标志），使 macOS 允许其运行。
> >      - 请确保路径 `/Applications/KeyTone.app` 正确。如果您将应用安装在其他位置，请替换为实际路径（例如 `/Users/您的用户名/Downloads/KeyTone.app`）。
> > 
> > 3. **验证**：
> >    - 命令执行后，尝试双击打开 KeyTone.app，应用应可正常运行。
> > 
> > 4. **注意事项**：
> >    - 执行命令时可能需要管理员权限，系统会提示输入密码。
> >    - 如果命令无效，请确保输入的路径正确，或检查应用是否被移动/重命名。
> > 
> > #### 额外建议
> > - **检查应用来源**：请确保 KeyTone.app 从官方或可信渠道下载，以避免潜在的安全风险。
> > - **更新应用**：开发团队可能会在未来的日子中去计划苹果开发者帐号的申请。因此, 未来版本可能会解决此问题，请关注官方渠道（如官网或社交媒体）以获取更新。
> > - **联系支持**：如果以上方法无法解决问题，或您有其他疑问，请前往[GitHub Issues](https://github.com/LuSrackhall/KeyTone/issues)查询解决方案或提出新问题。
> > #### 免责声明
> > - 请确保您从官方或可信来源下载 KeyTone.app。
> > - 执行上述操作需用户自行承担风险，建议在操作前备份重要数据。
> > - 如果您对操作步骤不确定，请咨询专业人士或联系开发团队获取支持。
> > 
> > 感谢您的理解与支持！如果您有进一步问题，请随时联系我们。
> > 
> > ---
> > 
> > **KeyTone.app 开发团队**  
> > 日期：2025年5月20日
> :::